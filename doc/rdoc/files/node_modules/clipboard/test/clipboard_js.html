<!DOCTYPE html>
<html lang="en">
<head>
    <title>clipboard.js</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            clipboard.js
        </h1>
        <ul class="files">
            
            <li>
                node_modules/clipboard/test/clipboard.js
                
            </li>
            <li>Last modified: 2018-11-21 17:20:08 -0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>import Clipboard from &#39;../src/clipboard&#39;; import ClipboardAction
from &#39;../src/clipboard-action&#39;; import listen from
&#39;good-listener&#39;;</p>

<p>describe(&#39;Clipboard&#39;, () =&gt; {</p>

<pre><code>before(() =&gt; {
    global.button = document.createElement(&#39;button&#39;);
    global.button.setAttribute(&#39;class&#39;, &#39;btn&#39;);
    global.button.setAttribute(&#39;data-clipboard-text&#39;, &#39;foo&#39;);
    document.body.appendChild(global.button);

    global.span = document.createElement(&#39;span&#39;);
    global.span.innerHTML = &#39;bar&#39;;

    global.button.appendChild(span);

    global.event = {
        target: global.button,
        currentTarget: global.button
    };
});

after(() =&gt; {
    document.body.innerHTML = &#39;&#39;;
});

describe(&#39;#resolveOptions&#39;, () =&gt; {
    before(() =&gt; {
        global.fn = () =&gt; {};
    });

    it(&#39;should set action as a function&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;, {
            action: global.fn
        });

        assert.equal(global.fn, clipboard.action);
    });

    it(&#39;should set target as a function&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;, {
            target: global.fn
        });

        assert.equal(global.fn, clipboard.target);
    });

    it(&#39;should set text as a function&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;, {
            text: global.fn
        });

        assert.equal(global.fn, clipboard.text);
    });

    it(&#39;should set container as an object&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;, {
            container: document.body
        });

        assert.equal(document.body, clipboard.container);
    });

    it(&#39;should set container as body by default&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;);

        assert.equal(document.body, clipboard.container);
    });
});

describe(&#39;#listenClick&#39;, () =&gt; {
    it(&#39;should add a click event listener to the passed selector&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;);
        assert.isObject(clipboard.listener);
    });
});

describe(&#39;#onClick&#39;, () =&gt; {
    it(&#39;should create a new instance of ClipboardAction&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;);

        clipboard.onClick(global.event);
        assert.instanceOf(clipboard.clipboardAction, ClipboardAction);
    });

    it(&#39;should use an event\&#39;s currentTarget when not equal to target&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;);
        let bubbledEvent = { target: global.span, currentTarget: global.button };

        clipboard.onClick(bubbledEvent);
        assert.instanceOf(clipboard.clipboardAction, ClipboardAction);
    });

    it(&#39;should throw an exception when target is invalid&#39;, done =&gt; {
        try {
            const clipboard = new Clipboard(&#39;.btn&#39;, {
                target() {
                    return null;
                }
            });

            clipboard.onClick(global.event);
        }
        catch(e) {
            assert.equal(e.message, &#39;Invalid &quot;target&quot; value, use a valid Element&#39;);
            done();
        }
    });
});

describe(&#39;#static isSupported&#39;, () =&gt; {
    it(&#39;should return the support of the given action&#39;, () =&gt; {
        assert.equal(Clipboard.isSupported(&#39;copy&#39;), false);
        assert.equal(Clipboard.isSupported(&#39;cut&#39;), false);
    });

    it(&#39;should return the support of the cut and copy actions&#39;, () =&gt; {
        assert.equal(Clipboard.isSupported(), false);
    });
});

describe(&#39;#destroy&#39;, () =&gt; {
    it(&#39;should destroy an existing instance of ClipboardAction&#39;, () =&gt; {
        let clipboard = new Clipboard(&#39;.btn&#39;);

        clipboard.onClick(global.event);
        clipboard.destroy();

        assert.equal(clipboard.clipboardAction, null);
    });
});
</code></pre>

<p>});</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
