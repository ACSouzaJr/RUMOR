<!DOCTYPE html>
<html lang="en">
<head>
    <title>delegate.js</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            delegate.js
        </h1>
        <ul class="files">
            
            <li>
                node_modules/delegate/src/delegate.js
                
            </li>
            <li>Last modified: 2018-11-21 17:20:08 -0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>var closest = require(&#39;./closest&#39;);</p>

<pre><code>Delegates event to a selector.

@param {Element} element
@param {String} selector
@param {String} type
@param {Function} callback
@param {Boolean} useCapture
@return {Object}
</code></pre>

<p>function _delegate(element, selector, type, callback, useCapture) {</p>

<pre><code>var listenerFn = listener.apply(this, arguments);

element.addEventListener(type, listenerFn, useCapture);

return {
    destroy: function() {
        element.removeEventListener(type, listenerFn, useCapture);
    }
}
</code></pre>

<p>}</p>

<p>/**</p>

<pre><code> Delegates event to a selector.

 @param {Element|String|Array} [elements]
 @param {String} selector
 @param {String} type
 @param {Function} callback
 @param {Boolean} useCapture
 @return {Object}
/
</code></pre>

<p>function delegate(elements, selector, type, callback, useCapture) {</p>

<pre><code>// Handle the regular Element usage
if (typeof elements.addEventListener === &#39;function&#39;) {
    return _delegate.apply(null, arguments);
}

// Handle Element-less usage, it defaults to global delegation
if (typeof type === &#39;function&#39;) {
    // Use `document` as the first parameter, then apply arguments
    // This is a short way to .unshift `arguments` without running into deoptimizations
    return _delegate.bind(null, document).apply(null, arguments);
}

// Handle Selector-based usage
if (typeof elements === &#39;string&#39;) {
    elements = document.querySelectorAll(elements);
}

// Handle Array-like based usage
return Array.prototype.map.call(elements, function (element) {
    return _delegate(element, selector, type, callback, useCapture);
});
</code></pre>

<p>}</p>

<p>/**</p>

<pre><code> Finds closest match and invokes callback.

 @param {Element} element
 @param {String} selector
 @param {String} type
 @param {Function} callback
 @return {Function}
/
</code></pre>

<p>function listener(element, selector, type, callback) {</p>

<pre><code>return function(e) {
    e.delegateTarget = closest(e.target, selector);

    if (e.delegateTarget) {
        callback.call(element, e);
    }
}
</code></pre>

<p>}</p>

<p>module.exports = delegate;</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
