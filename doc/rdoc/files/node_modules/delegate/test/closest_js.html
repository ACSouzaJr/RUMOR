<!DOCTYPE html>
<html lang="en">
<head>
    <title>closest.js</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            closest.js
        </h1>
        <ul class="files">
            
            <li>
                node_modules/delegate/test/closest.js
                
            </li>
            <li>Last modified: 2018-11-21 17:20:08 -0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>var closest = require(&#39;../src/closest&#39;);</p>

<p>describe(&#39;closest&#39;, function() {</p>

<pre><code>before(function() {
    var html = &#39;&lt;div id=&quot;a&quot;&gt;&#39; +
                    &#39;&lt;div id=&quot;b&quot;&gt;&#39; +
                        &#39;&lt;div id=&quot;c&quot;&gt;&lt;/div&gt;&#39; +
                    &#39;&lt;/div&gt;&#39; +
                &#39;&lt;/div&gt;&#39;;

    document.body.innerHTML += html;

    global.a = document.querySelector(&#39;#a&#39;);
    global.b = document.querySelector(&#39;#b&#39;);
    global.c = document.querySelector(&#39;#c&#39;);
});

after(function() {
    document.body.innerHTML = &#39;&#39;;
});

it(&#39;should return the closest parent based on the selector&#39;, function() {
    assert.ok(closest(global.c, &#39;#b&#39;), global.b);
    assert.ok(closest(global.c, &#39;#a&#39;), global.a);
    assert.ok(closest(global.b, &#39;#a&#39;), global.a);
});

it(&#39;should return itself if the same selector is passed&#39;, function() {
    assert.ok(closest(document.body, &#39;body&#39;), document.body);
});

it(&#39;should not throw on elements without matches()&#39;, function() {
    var fakeElement = {
        nodeType: -1, // anything but DOCUMENT_NODE_TYPE
        parentNode: null,
        matches: undefined // undefined to emulate Elements without this function
    };

    try {
        closest(fakeElement, &#39;#a&#39;)
    } catch (err) {
        assert.fail();
    }
});
</code></pre>

<p>});</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
