<!DOCTYPE html>
<html lang="en">
<head>
    <title>listen.js</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            listen.js
        </h1>
        <ul class="files">
            
            <li>
                node_modules/good-listener/src/listen.js
                
            </li>
            <li>Last modified: 2018-11-21 17:20:08 -0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>var is = require(&#39;./is&#39;); var delegate =
require(&#39;delegate&#39;);</p>

<pre><code>Validates all params and calls the right
listener function based on its target type.

@param {String|HTMLElement|HTMLCollection|NodeList} target
@param {String} type
@param {Function} callback
@return {Object}
</code></pre>

<p>function listen(target, type, callback) {</p>

<pre><code>if (!target &amp;&amp; !type &amp;&amp; !callback) {
    throw new Error(&#39;Missing required arguments&#39;);
}

if (!is.string(type)) {
    throw new TypeError(&#39;Second argument must be a String&#39;);
}

if (!is.fn(callback)) {
    throw new TypeError(&#39;Third argument must be a Function&#39;);
}

if (is.node(target)) {
    return listenNode(target, type, callback);
}
else if (is.nodeList(target)) {
    return listenNodeList(target, type, callback);
}
else if (is.string(target)) {
    return listenSelector(target, type, callback);
}
else {
    throw new TypeError(&#39;First argument must be a String, HTMLElement, HTMLCollection, or NodeList&#39;);
}
</code></pre>

<p>}</p>

<p>/**</p>

<pre><code> Adds an event listener to a HTML element
 and returns a remove listener function.

 @param {HTMLElement} node
 @param {String} type
 @param {Function} callback
 @return {Object}
/
</code></pre>

<p>function listenNode(node, type, callback) {</p>

<pre><code>node.addEventListener(type, callback);

return {
    destroy: function() {
        node.removeEventListener(type, callback);
    }
}
</code></pre>

<p>}</p>

<p>/**</p>

<pre><code> Add an event listener to a list of HTML elements
 and returns a remove listener function.

 @param {NodeList|HTMLCollection} nodeList
 @param {String} type
 @param {Function} callback
 @return {Object}
/
</code></pre>

<p>function listenNodeList(nodeList, type, callback) {</p>

<pre><code>Array.prototype.forEach.call(nodeList, function(node) {
    node.addEventListener(type, callback);
});

return {
    destroy: function() {
        Array.prototype.forEach.call(nodeList, function(node) {
            node.removeEventListener(type, callback);
        });
    }
}
</code></pre>

<p>}</p>

<p>/**</p>

<pre><code> Add an event listener to a selector
 and returns a remove listener function.

 @param {String} selector
 @param {String} type
 @param {Function} callback
 @return {Object}
/
</code></pre>

<p>function listenSelector(selector, type, callback) {</p>

<pre><code>return delegate(document.body, selector, type, callback);
</code></pre>

<p>}</p>

<p>module.exports = listen;</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
