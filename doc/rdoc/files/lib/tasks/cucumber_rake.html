<!DOCTYPE html>
<html lang="en">
<head>
    <title>cucumber.rake</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            cucumber.rake
        </h1>
        <ul class="files">
            
            <li>
                lib/tasks/cucumber.rake
                
            </li>
            <li>Last modified: 2018-12-06 01:46:17 -0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p># IMPORTANT: This file is generated by cucumber-rails - edit at your own
peril. # It is recommended to regenerate this file in the future when you
upgrade to a # newer version of cucumber-rails. Consider adding your own
code to a new file # instead of editing this one. Cucumber will
automatically load all features   /*.rb # files.</p>

<p>unless ARGV.any? {|a| a =~ /^gems/} # Don&#39;t load anything when running
the gems:* tasks</p>

<p>vendored_cucumber_bin = Dir[“#{Rails.root}/vendor/{gems,plugins}/cucumber 
bin/cucumber”].first $LOAD_PATH.unshift(File.dirname(vendored_cucumber_bin)
+ &#39;/../lib&#39;) unless vendored_cucumber_bin.nil?</p>

<p>begin</p>

<pre><code>require &#39;cucumber/rake/task&#39;

namespace :cucumber do
  Cucumber::Rake::Task.new({ok: &#39;test:prepare&#39;}, &#39;Run features that should pass&#39;) do |t|
    t.binary = vendored_cucumber_bin # If nil, the gem&#39;s binary is used.
    t.fork = true # You may get faster startup if you set this to false
    t.profile = &#39;default&#39;
  end

  Cucumber::Rake::Task.new({wip: &#39;test:prepare&#39;}, &#39;Run features that are being worked on&#39;) do |t|
    t.binary = vendored_cucumber_bin
    t.fork = true # You may get faster startup if you set this to false
    t.profile = &#39;wip&#39;
  end

  Cucumber::Rake::Task.new({rerun: &#39;test:prepare&#39;}, &#39;Record failing features and run only them if any exist&#39;) do |t|
    t.binary = vendored_cucumber_bin
    t.fork = true # You may get faster startup if you set this to false
    t.profile = &#39;rerun&#39;
  end

  desc &#39;Run all features&#39;
  task all: [:ok, :wip]

  task :statsetup do
    require &#39;rails/code_statistics&#39;
    ::STATS_DIRECTORIES &lt;&lt; %w(Cucumber\ features features) if File.exist?(&#39;features&#39;)
    ::CodeStatistics::TEST_TYPES &lt;&lt; &quot;Cucumber features&quot; if File.exist?(&#39;features&#39;)
  end

  task :annotations_setup do
    Rails.application.configure do
      if config.respond_to?(:annotations)
        config.annotations.directories &lt;&lt; &#39;features&#39;
        config.annotations.register_extensions(&#39;feature&#39;) { |tag| /#\s*(#{tag}):?\s*(.*)$/ }
      end
    end
  end
end
desc &#39;Alias for cucumber:ok&#39;
task cucumber: &#39;cucumber:ok&#39;

task default: :cucumber

task features: :cucumber do
  STDERR.puts &quot;*** The &#39;features&#39; task is deprecated. See rake -T cucumber ***&quot;
end

# In case we don&#39;t have the generic Rails test:prepare hook, append a no-op task that we can depend upon.
task &#39;test:prepare&#39; do
end

task stats: &#39;cucumber:statsetup&#39;

task notes: &#39;cucumber:annotations_setup&#39;
</code></pre>

<p>rescue LoadError</p>

<pre><code>desc &#39;cucumber rake task not available (cucumber not installed)&#39;
task :cucumber do
  abort &#39;Cucumber rake task is not available. Be sure to install cucumber as a gem or plugin&#39;
end
</code></pre>

<p>end</p>

<p>end</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
